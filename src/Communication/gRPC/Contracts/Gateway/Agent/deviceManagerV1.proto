syntax = "proto3";

package ayborg.gateway.agent.v1;

service DeviceManager {
    rpc GetAvailableProviders (DefaultAgentRequest) returns (DeviceProviderCollectionResponse);
    rpc Add(AddDeviceRequest) returns (Device);
    rpc Remove(RemoveDeviceRequest) returns (Device);
}

message DefaultAgentRequest {
    string agent_unique_name = 1;
}

message AddDeviceRequest {
    string agent_unique_name = 1;
    string device_provider_name = 2;
    string device_id = 3;
}

message RemoveDeviceRequest {
    string agent_unique_name = 1;
    string device_id = 2;
}

message DeviceProviderCollectionResponse {
    repeated DeviceProvider device_providers = 1;
}

message DeviceProvider {
    string name = 1;
    bool can_add = 2;
    repeated Device devices = 3;
}

message Device {
    string id = 1;
    string name = 2;
    repeated string categories = 3;
}
